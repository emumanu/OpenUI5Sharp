<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>OpenUI5Tests</title>

    <script id="sap-ui-bootstrap" src="https://openui5.hana.ondemand.com/1.54.6/resources/sap-ui-core.js"
            data-sap-ui-theme="sap_belize"
            data-sap-ui-libs="sap.m"
            data-sap-ui-compatVersion="edge"
            data-sap-ui-preload="async"
            data-sap-ui-resourceroots='{
                "sap.ui.demo.db": "/bridge"
            }'>
    </script>
</head>
<body id="content" class="sapUiBody sapUiSizeCompact" style="height: 100vh">
    <script src="/bridge.js"></script>
    <script src="/bridge.meta.js"></script>
    <script src="/bridge/openui5sharp.js"></script>
    <script>
        sap.ui.getCore().attachInit(function () {
            var oProductModel = new sap.ui.model.json.JSONModel();
            oProductModel.loadData("./bridge/model/Products.json");
            sap.ui.getCore().setModel(oProductModel, "products");

            // Create a JSON model from an object literal
            var oModel = new sap.ui.model.json.JSONModel({
                firstName: "Harry",
                lastName: "Hawk",
                enabled: true,
                address: {
                    street: "Dietmar-Hopp-Allee 16",
                    city: "Walldorf",
                    zip: "69190",
                    country: "Germany"
                },
                salesToDate: 12345.6789,
                priceThreshold: 20,
                currencyCode: "EUR"
            });

            // Assign the model object to the SAPUI5 core
            sap.ui.getCore().setModel(oModel);

            // Create a resource bundle for language specific texts
            var oResourceModel = new sap.ui.model.resource.ResourceModel({
                bundleName: "sap.ui.demo.db.i18n.i18n"
            });

            // Assign the model object to the SAPUI5 core using the name "i18n"
            sap.ui.getCore().setModel(oResourceModel, "i18n");

            // Create view
            var oView = new sap.ui.core.mvc.XMLView({ viewName: "sap.ui.demo.db.view.App" });

            // Register the view with the message manager
            sap.ui.getCore().getMessageManager().registerObject(oView, true);

            // Insert the view into the DOM
            oView.placeAt("content");
        });
    </script>
</body>
</html>
